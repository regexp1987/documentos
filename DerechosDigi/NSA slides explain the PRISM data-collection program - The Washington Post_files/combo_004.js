(function(A){A.fn.imageLazyLoader=function(D){var E={container:A(window),imageClass:"unloaded",urlAttribute:"data-src",threshold:200,delay:50,speed:300},G=A.extend(E,D);var B=[],F="loadimage",H;var C=function(I){window.console&&console.log&&console.log(I);};G.container.bind("scroll resize",function(I){if(H){clearTimeout(H);}H=setTimeout(function(){var L=G.container.scrollTop();height=G.container.height(),topLimit=L-G.threshold;bottomLimit=L+height+G.threshold;for(var J=0;J<B.length;J++){var K=B[J];if(!K.loaded){if(K.offset().top<=bottomLimit&&K.offset().top>=topLimit){K.trigger(F);}}}},G.delay);});this.each(function(){var I=A(this);I.loaded=false;I.bind(F,function(){if(I.attr(G.urlAttribute)){I.hide().attr("src",I.attr(G.urlAttribute)).removeClass(G.imageClass).removeAttr(G.urlAttribute);if(A.browser.msie){I.show();}else{I.fadeIn(G.speed);}I.loaded=true;}});B.push(I);});G.container.trigger("resize");return this;};A.fn.lazyLoadImages=function(B){var C=A.extend({imageClass:"unloaded",urlAttribute:"data-src"},B);return this.each(function(){var D=A(this);D.hide().attr("src",D.attr(C.urlAttribute)).removeClass(C.imageClass).removeAttr(C.urlAttribute).show();});};})(jQuery);jQuery(function(){jQuery(".unloaded").imageLazyLoader({imageClass:"unloaded"});});(function(A){TWP.Module=window.TWP.Module||{};TWP.Module.MegaMenu=function(){adCalled=false;jQuery("#main-nav-wrapper-v2 li.politics, li.politics div.rollMe, #header-v3 .politicsAd").hover(function(){jQuery("li.politics div.rollMe, #header-v3 .sample-ad.politicsAd").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.politics a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.politics div.rollMe, #header-v3 .sample-ad").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.politics a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.opinions, li.opinions div.rollMe, #header-v3 .opinionsAd").hover(function(){jQuery("li.opinions div.rollMe, #header-v3 .sample-ad.opinionsAd").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.opinions a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.opinions div.rollMe, #header-v3 .sample-ad,#newsharebar").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.opinions a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.local, li.local div.rollMe").hover(function(){jQuery("li.local div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.local a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.local div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.local a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.sports, li.sports div.rollMe").hover(function(){jQuery("li.sports div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.sports a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.sports div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.sports a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.national, li.national div.rollMe").hover(function(){jQuery("li.national div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.national a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.national div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.national a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.world, li.world div.rollMe").hover(function(){jQuery("li.world div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.world a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.world div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.world a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.business, li.business div.rollMe").hover(function(){jQuery("li.business div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.business a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.business div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.business a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.technology, li.technology div.rollMe").hover(function(){jQuery("li.technology div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.technology a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.technology div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.technology a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.lifestyle, li.lifestyle div.rollMe").hover(function(){jQuery("li.lifestyle div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.lifestyle a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *, #wpni_adi_flex_ss_bb_hp *, #wpni_adi_flex_bb_hp *").addClass("adnoDisplay");},function(){jQuery("li.lifestyle div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.lifestyle a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *, #wpni_adi_flex_ss_bb_hp *, #wpni_adi_flex_bb_hp *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.entertainment, li.entertainment div.rollMe").hover(function(){jQuery("li.entertainment div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.entertainment a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *, #wpni_adi_flex_ss_bb_hp *, #wpni_adi_flex_bb_hp *").addClass("adnoDisplay");},function(){jQuery("li.entertainment div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.entertainment a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *, #wpni_adi_flex_ss_bb_hp *, #wpni_adi_flex_bb_hp *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.blogs, li.blogs div.rollMe").hover(function(){jQuery("li.blogs div.rollMe").css("visibility","visible");jQuery("#newsharebarMasthead").css("z-index","1");jQuery("li.blogs a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *, #wpni_adi_flex_ss_bb_hp *, #wpni_adi_flex_bb_hp *").addClass("adnoDisplay");},function(){jQuery("li.blogs div.rollMe").css("visibility","hidden");jQuery("#newsharebarMasthead").css("z-index","999");jQuery("li.blogs a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *, #wpni_adi_flex_ss_bb_hp *, #wpni_adi_flex_bb_hp *").removeClass("adnoDisplay");
});jQuery("#main-nav-wrapper-v2 li.photography, li.photography div.rollMe").hover(function(){jQuery("li.photography div.rollMe").css("visibility","visible");jQuery("li.photography a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.photography div.rollMe").css("visibility","hidden");jQuery("li.photography a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.video, li.video div.rollMe").hover(function(){jQuery("li.video div.rollMe").css("visibility","visible");jQuery("li.video a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.video div.rollMe").css("visibility","hidden");jQuery("li.video a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.more, li.more div.rollMe").hover(function(){jQuery("li.more div.rollMe").css("visibility","visible");jQuery("li.more a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.more div.rollMe").css("visibility","hidden");jQuery("li.more a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.realestate, li.realestate div.rollMe").hover(function(){jQuery("li.realestate div.rollMe").css("visibility","visible");jQuery("li.realestate a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.realestate div.rollMe").css("visibility","hidden");jQuery("li.realestate a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("#main-nav-wrapper-v2 li.classifieds, li.classifieds div.rollMe").hover(function(){jQuery("li.classifieds div.rollMe").css("visibility","visible");jQuery("li.classifieds a.top").addClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.classifieds div.rollMe").css("visibility","hidden");jQuery("li.classifieds a.top").removeClass("onColor");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});jQuery("li.moreolympics, li.moreolympics div.rollMe").hover(function(){jQuery("div.moreolympics-dropdown").css("visibility","visible");jQuery("li.moreolympics").addClass("whitebg");jQuery("li.moreolympics a:first, li.moreolympics a .arrow-s").addClass("bluecolornav");jQuery("#slug_leaderboard *, #slug_pushdown *").addClass("adnoDisplay");},function(){jQuery("li.moreolympics div.moreolympics-dropdown.rollMe").css("visibility","hidden");jQuery("li.moreolympics").removeClass("whitebg");jQuery("li.moreolympics a:first, li.moreolympics a .arrow-s").removeClass("bluecolornav");jQuery("#slug_leaderboard *, #slug_pushdown *").removeClass("adnoDisplay");});};TWP.Module.MegaMenu();})(jQuery);TWP=TWP||window.TWP;TWP.Eidos=TWP.Eidos||{};TWP.Eidos.Modules=TWP.Eidos.Modules||{};TWP.Data=TWP.Data||{};TWP.url=window.location.href;TWP.protocol=window.location.protocol;TWP.server=TWP.server||window.location.href.match(/^.*?:\/\/.*?\//)[0];TWP.debug=window.location.href.match("twpDebug=true")?true:TWP.debug;TWP.contextServer="http://js.washingtonpost.com";TWP.contextServerSSL="https://ssl.washingtonpost.com";TWP.contextServerCss="http://css.wpdigital.net";TWP.contextServerEidos="http://www.washingtonpost.com";TWP.contextServerOverrides=TWP.contextServerOverrides||{"http://localhost/":"http://localhost:8080","ssldev":"https://glasstest.digitalink.com","sslprod":TWP.contextServerSSL,"digitalink.com":"http://glasstest.digitalink.com","washpost.com":"http://glasstest.digitalink.com"};TWP.contextServer=TWP.server.match("digitalink.com")?TWP.contextServerOverrides["digitalink.com"]:TWP.contextServer;TWP.contextServer=TWP.server.match("washpost.com")?TWP.contextServerOverrides["washpost.com"]:TWP.contextServer;TWP.contextServer=TWP.contextServerOverrides[TWP.server]?TWP.contextServerOverrides[TWP.server]:TWP.contextServer;if(TWP.protocol.toLowerCase()=="https:"){if(TWP.server.match("digitalink.com")){TWP.contextServer=TWP.contextServerOverrides["ssldev"];}else{TWP.contextServer=TWP.contextServerOverrides["sslprod"];}}TWP.contextServer=window.location.href.match("twpContextServer=")?window.location.href.match(/twpContextServer=([^&]+)/)[1]:TWP.contextServer;if(TWP.server.match("glassdev")||TWP.server.match("localhost")){TWP.contextServerEidos="http://devprev.digitalink.com";}else{if(TWP.server.match("glasstest")){TWP.contextServerEidos="http://qaprev.digitalink.com";}else{if(TWP.server.match("glassstage")){TWP.contextServerEidos="http://prodprev.digitalink.com";}}}TWP.eidosBase=TWP.eidosBase?TWP.eidosBase:(window.eidosBase?window.eidosBase:TWP.contextServerEidos);TWP.base=((typeof TWP.base=="undefined")||TWP.base=="")?TWP.contextServer:TWP.base;TWP.base=(TWP.protocol.toLowerCase()=="https:")?TWP.base.toLowerCase().replace("http:","https:"):TWP.base;TWP.Data.compactor_url=TWP.contextServer+"/wpost";(function(A){TWP.Eidos.Modules.ExternalHeader=function(C){var M=A(C),B,F=TWP.Data.compactor_url+"/proxy?context=eidos&r=/header_external_v4_jsonp_static.jsonp",H=TWP.eidosBase||"http://www.washingtonpost.com",G="washingtonpost.com",E="washingtonpost.com",D={section:"",subsection:"",weather:null,subnav:true,hotTopics:true,search:true,utilityLinks:true,userTools:true,adMenu:true,adTiffanyTile:true};var N=function(){I();G=window.thisNode||G;E=window.commercialNode||E;TWP.eidosBase=TWP.eidosBase||H;if(M.hasClass("preloaded")){B=M;L();}else{headerV3StaticJSONP=J;A.ajax({url:F+escape("?"+(TWP.protocol.toLowerCase()=="https:"?"isSSL=true&":"")+"&token="+TWP.jsCacheBuster+"&"+A.param(D)),dataType:"jsonp",async:false,cache:true,jsonpCallback:"loadJSONP"});}};var J=function(O){O=O.replace(/href="\//g,'href="'+H+"/");B=A(O).filter("#header-v3");B.find("script:not(.strip-proof)").remove();L();if(TWP&&TWP.Identity&&typeof TWP.Identity.init=="function"){TWP.Identity.init();}};var I=function(){var O={};if(M.attr("data-config")){O=A.parseParams(M.attr("data-config"));}if(O.dserv){H=O.dserv;delete O.dserv;}A.extend(D,O);};var L=function(){B.find("a").each(function(P,Q){if(!Q.getAttribute("href").match("://")){Q.setAttribute("href",H+Q.getAttribute("href"));}});B.find("img").each(function(P,Q){if(!Q.getAttribute("src").match("://")){Q.setAttribute("src",H+Q.getAttribute("src"));}});if(jQuery.browser.msie){B.addClass("ie");B.addClass("ie"+jQuery.browser.version);}B.addClass(document.compatMode=="BackCompat"?"quirksmode":"standards");B.addClass(jQuery.browser.webkit?"webkit":"");B.addClass("external");if(M!=B){B.replaceAll(M);M=B;}try{A("#main-nav").find("li.top").one("mouseenter",function(P){A(this).find("img.nav-unloaded").lazyLoadImages({imageClass:"nav-unloaded"});});}catch(O){}TWP.Module.MegaMenu();};var K=function(){var P=B.find("slug_tiffany_tile"),O=B.find("slug_nav_tile");if(D.adMenu){placeAd2(E,"promo","adi","");}else{if(O){O.hide();}}if(D.adTiffanyTile){placeAd2(E,"tiffany_tile","adi","");}else{if(P){P.hide();}}};N();};TWP.Eidos.Modules.ExternalHeader(A("#header-v3,#header-v3-external"));}(jQuery));TWP=TWP||window.TWP;TWP.Eidos=TWP.Eidos||{};TWP.Eidos.Modules=TWP.Eidos.Modules||{};TWP.Data=TWP.Data||{};(function(A){TWP.Eidos.Modules.ExternalFooter=function(E){var G=A(E),I,D={dserv:TWP.eidosBase||"http://www.washingtonpost.com",jsonpURL:"/proxy?context=eidos&r=/footer_external_v4_jsonp_static.jsonp"};TWP.Data.compactor_url=TWP.contextServer+"/wpost";var H=function(){F();thisNode=window.thisNode||D.thisNode;commercialNode=window.commercialNode||D.commercialNode;if(G.hasClass("preloaded")){I=G;B();}else{footerV3StaticJSONP=C;A.ajax({url:TWP.Data.compactor_url+D.jsonpURL+"?token="+TWP.jsCacheBuster+(TWP.protocol.toLowerCase()=="https:"?escape("&"+"isSSL=true"):""),dataType:"jsonp",async:false,cache:true,jsonpCallback:"loadJSONP"});
}};var C=function(J){I=A(J).filter("#footer-v3");I.find("script:not(.strip-proof)").remove();B();};var F=function(){var J={};if(G.attr("data-config")){J=A.parseParams(G.attr("data-config"));}A.extend(D,J);};var B=function(){if(jQuery.browser.msie){I.addClass("ie");I.addClass("ie"+jQuery.browser.version);}I.addClass(document.compatMode=="BackCompat"?"quirksmode":"standards");I.addClass(jQuery.browser.webkit?"webkit":"");I.addClass("external");if(G!=I){I.replaceAll(G);G=I;}A(".getYear").text(new Date().getFullYear());};H();};TWP.Eidos.Modules.ExternalFooter(A("#footer-v3,#footer-v3-external"));}(jQuery));(function(A){if(typeof A=="function"){TWP=window.TWP||{};TWP.Util=window.TWP.Util||{};TWP.Util.TrackClick=function(D,C,K){var F=A(D),I="",G="",H="",J="",E="",B="";I=F.text().replace(/\s+/g," ");if(!I){I=F.attr("alt").replace(/\s+/g," ");}if(A().closest){G=F.closest("*[data-tracking-type]").attr("data-tracking-type")||"unknown";H=F.closest("*[data-tracking-section]").attr("data-tracking-section")||"";J=F.closest("*[data-tracking-ctx]").attr("data-tracking-ctx")||"body";}else{G=A(F.parents("*[data-tracking-type]").get(0)).attr("data-tracking-type")||"unknown";H=A(F.parents("*[data-tracking-section]").get(0)).attr("data-tracking-section")||"";J=A(F.parents("*[data-tracking-ctx]").get(0)).attr("data-tracking-ctx")||"body";}if(G.match(/^(utility|main|hot-topics)$/)||!H){E=J+":"+G;}else{E=J+":"+G+" - "+H;}E=E.toLowerCase();if(G.match(/^(utility|in|masthead|sub-nav|unknown)$/)&&!!I){B=E+" - "+I;}else{if(G.match(/^main|hot-topics$/)&&!!H){B=E+" - "+H;}else{B=E;}}B=B.toLowerCase();if(K.debug){if(!!window.console){console.log("customLinkName:"+E+"\n"+"prop:"+B);}}if(!!window.s&&typeof s.sendDataToOmniture=="function"){s.sendDataToOmniture(E,"",{"channel":s.channel,"prop28":B});}};}})(jQuery);(function(A){if(typeof A=="function"){A("#header-v3").click(function(E){var C,B=A(E.target),D=false;if(B.is("a")){C=E.target;}else{if(A().closest){C=B.closest("a").get(0);}else{C=B.parents("a").get(0);}}if(!!C){if(D){E.preventDefault();}if(!!window.TWP&&!!TWP.Util&&!!TWP.Util.TrackClick){TWP.Util.TrackClick(C,E,{"debug":D});}if(D){return false;}}return true;});}})(jQuery);window.TWP=window.TWP||{};TWP.Util=TWP.Util||{};TWP.Util.HeaderDetection=function(){this.setUserAgent(navigator.userAgent);this.getCssClass();};TWP.Util.HeaderDetection.prototype={chrome:false,opera:false,firefox:false,firefox2:false,firefox3:false,firefox3_5:false,ie:false,ie6:false,ie7:false,ie8:false,mozilla:false,safari:false,safari3:false,safari4:false,windows:false,mac:false,linux:false,getCssClass:function(){if(document.getElementById&&document.createTextNode){var A=document.body;if(!A||A==undefined||A==null||A.length==0){setTimeout(function(){var B=TWP.get("Util.HeaderDetection");B.getCssClass();},250);return ;}}else{TWP.log("Browser doesn't support document.getElementById()");return ;}this.addClass("javascript");if(this.windows){this.addClass("windows");}else{if(this.mac){this.addClass("mac");}else{if(this.linux){this.addClass("linux");}}}if(this.ie){this.addClass("ie");if(this.ie8){this.addClass("ie8");}else{if(this.ie7){this.addClass("ie7");}else{if(this.ie6){this.addClass("ie6");}}}}else{if(this.firefox){this.addClass("firefox");if(this.firefox3_5){this.addClass("firefox3-5");}else{if(this.firefox3){this.addClass("firefox3");}else{if(this.firefox2){this.addClass("firefox2");}}}}else{if(this.chrome){this.addClass("chrome");}else{if(this.safari){this.addClass("safari");if(this.safari4){this.addClass("safari4");}else{if(this.safari3){this.addClass("safari3");}}}else{if(this.opera){this.addClass("opera");}else{if(this.mozilla){this.addClass("mozilla");}}}}}}},isChrome:function(){return this.chrome;},isOpera:function(){return this.opera;},isFirefox:function(){return this.firefox;},isFirefox2:function(){return this.firefox2;},isFirefox3:function(){return this.firefox3;},isFirefox3_5:function(){return this.firefox3_5;},isIe:function(){return this.ie;},isIe6:function(){return this.ie6;},isIe7:function(){return this.ie7;},isIe8:function(){return this.ie8;},isMozilla:function(){return this.mozilla;},isSafari:function(){return this.safari;},isSafari3:function(){return this.safari3;},isSafari4:function(){return this.safari4;},isWindows:function(){return this.windows;},isMac:function(){return this.mac;},isLinux:function(){return this.linux;},setUserAgent:function(D){this.userAgent=D;var B=D.toLowerCase();var C="";var A="";if(B.indexOf("msie")!=-1){this.ie=true;C=B.substring(B.indexOf("msie"),B.length);A=C.substring(4,C.indexOf(";"));A=this.trim(A);if(A.charAt(0)=="6"){this.ie6=true;}else{if(A.charAt(0)=="7"){this.ie7=true;}else{if(A.charAt(0)=="8"){this.ie8=true;}}}}else{if(B.indexOf("firefox")!=-1){this.firefox=true;C=B.substring(B.indexOf("firefox"));A=C.substring(8);A=this.trim(A);if(A.charAt(0)=="2"){this.firefox2=true;}else{if(A.charAt(0)=="3"){if(A.match("^"+"3.5")=="3.5"){this.firefox3_5=true;}else{this.firefox3=true;}}}}else{if(B.indexOf("chrome")!=-1){this.chrome=true;}else{if(B.indexOf("safari")!=-1){this.safari=true;C=B.substring(B.indexOf("version/"));A=C.substring(8);A=this.trim(A);if(A.charAt(0)=="3"){this.safari3=true;}else{if(A.charAt(0)=="4"){this.safari4=true;}}}else{if(B.indexOf("opera")!=-1){this.opera=true;}else{if(B.indexOf("mozilla")!=-1){this.mozilla=true;}}}}}}if(B.indexOf("windows")!=-1){this.windows=true;}else{if(B.indexOf("macintosh")!=-1){this.mac=true;}else{if(B.indexOf("linux")!=-1){this.linux=true;}}}},addClass:function(B){if(document.getElementById&&document.createTextNode){var A=document.body;if(A){A.className+=A.className?" "+B:B;}}},trim:function(A){return(A.replace(/^[\s\xA0]+/,"").replace(/[\s\xA0]+$/,""));}};TWP.register("Util.HeaderDetection",new TWP.Util.HeaderDetection());try{var user=jQuery.cookie("wapo_login_id");var wpatc=jQuery.cookie("WPATC");if(user&&wpatc&&!wpatc.match(/\:K\=\d+/)){var url=TWP.signin.api_url+"?method=getDomainTag&username="+user;var d=new Date();var expireTime=d.setHours(d.getHours()+24);jQuery.ajax({type:"GET",url:url,datatype:"json",success:function(A){wpatc=wpatc.replace(/\:K\=\d+/,"");TWP.log(wpatc+":K="+A.K);jQuery.cookie("WPATC",wpatc+":K="+A.K,{domain:"washingtonpost.com",expires:new Date(expireTime),path:"/"});}});}}catch(e){}