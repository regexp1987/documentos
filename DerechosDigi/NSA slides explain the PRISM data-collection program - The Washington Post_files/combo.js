var TWP=window.TWP||{};TWP.Data=TWP.Data||{};TWP.signin=TWP.signin||{};TWP.Data.enviro={"server":"http://www.washingtonpost.com"};TWP.Data.environment="prod";TWP.Data.echo_appkey="prod.washpost.com";TWP.Data.fb_appid="41245586762";TWP.Data.cookie_domain=".washingtonpost.com";TWP.Data.compactor_url="http://js.washingtonpost.com/wpost";TWP.signin.registrationurl_page="https://ssl.washingtonpost.com/actmgmt/registration/group/long?destination=";TWP.signin.profileurl="https://ssl.washingtonpost.com/actmgmt/profile/show?destination=";TWP.signin.loginurl_page="https://ssl.washingtonpost.com/actmgmt/registration/login/long?destination=";TWP.signin.loginurl_overlay="https://ssl.washingtonpost.com/actmgmt/registration/login/short/overlay";TWP.signin.logouturl_page="https://ssl.washingtonpost.com/actmgmt/registration/logout";TWP.signin.newsletterurl_page="https://ssl.washingtonpost.com/actmgmt/registration/addnewsletter/long";TWP.signin.newsletterurl_overlay="https://ssl.washingtonpost.com/actmgmt/registration/addnewsletter/overlay";TWP.signin.logincommentsurl_page="https://ssl.washingtonpost.com/actmgmt/registration/login/commenting";TWP.signin.logincommentsurl_overlay="https://ssl.washingtonpost.com/actmgmt/registration/login/commenting/overlay";TWP.signin.registrationcommentsurl_page="https://ssl.washingtonpost.com/actmgmt/registration/group/commenting";TWP.signin.registrationcommentsurl_overlay="https://ssl.washingtonpost.com/actmgmt/registration/group/commenting/overlay";TWP.signin.api_url="https://ssl.washingtonpost.com/actmgmt/services/getDomainTag";TWP.signin.auth_api_url="http://pwapi.washingtonpost.com";(function(A){A.fn.tooltip=function(B){return this.each(function(){new A.tooltip(this,B);});};A.tooltip=function(C,B){this.el=A(C).get(0);this.options={inner:false};this.options=A.extend(B);this.props={classes:{overState:"on",hidden:"hide"},initial:true};this.elems={};this.init();};A.tooltip.fn=A.tooltip.prototype={};A.tooltip.fn.extend=A.tooltip.extend=jQuery.extend;A.tooltip.fn.extend({init:function(){this.cacheElems();this.assignHandlers();},cacheElems:function(){this.elems.$toolTip=A(this.el);this.elems.$toolTipText=A("span:eq(0)",this.el);this.elems.$toolTipRel=A(this.el).attr("rel");},assignHandlers:function(){var B=this;this.elems.$toolTip.mouseenter(function(C){if(typeof B.elems.$toolTipRel!=="undefined"&&A(this).find("span.thistip").length==0){A(B.elems.$toolTipRel).clone().prependTo(A(this)).wrap('<span class="thistip" />');}if(typeof B.elems.$toolTipRel!=="undefined"){B.elems.$toolTipText=A("span:eq(0)",this);}B.sizeIt(B);B.showTip(B);B.props.initial=false;C.stopPropagation();C.stopImmediatePropagation();});this.elems.$toolTip.mouseleave(function(C){B.hideTip(B);});},sizeIt:function(C){if(typeof C.elems.$toolTipRel=="undefined"){var B=this.elems.$toolTipText.height();if(C.props.initial){this.elems.$toolTipText.height(B/4);}else{this.elems.$toolTipText.height(B);}}},showTip:function(B){this.elems.$toolTipText.addClass(this.props.classes.overState);},hideTip:function(B){this.elems.$toolTipText.removeClass(this.props.classes.overState);}});})(jQuery);(function(){TWP.isAvatarEditable=function(){var A=document.cookie;idx=A.indexOf("wapo_provider");idxEnd=A.indexOf(";",idx)<0?A.length:A.indexOf(";",idx);provider=A.substr(idx,idxEnd-idx).split("=");return !!(provider[1]&&provider[1]!=="Facebook");};TWP.isSignedIn=function(){var A=document.cookie;idx=A.indexOf("wapo_login_id");if(idx>-1){return true;}else{return false;}};TWP.signedInProvider=function(){var A=document.cookie;idx=A.indexOf("wapo_provider");idxEnd=A.indexOf(";",idx)<0?A.length:A.indexOf(";",idx);provider=A.substr(idx,idxEnd-idx).split("=");return provider[1];};})();
/*
 * jQuery Tools v1.2.7 - The missing UI library for the Web
 * 
 * overlay/overlay.js
 * overlay/overlay.apple.js
 * toolbox/toolbox.expose.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 */
(function(B){B.tools=B.tools||{version:"v1.2.7"},B.tools.overlay={addEffect:function(F,E,G){D[F]=[E,G];},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!B.browser.msie||B.browser.version>6,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var A=[],D={};B.tools.overlay.addEffect("default",function(E,H){var G=this.getConf(),F=B(window);G.fixed||(E.top+=F.scrollTop(),E.left+=F.scrollLeft()),E.position=G.fixed?"fixed":"absolute",this.getOverlay().css(E).fadeIn(G.speed,H);},function(E){this.getOverlay().fadeOut(this.getConf().closeSpeed,E);});function C(O,N){var M=this,L=O.add(M),K=B(window),J,I,H,G=B.tools.expose&&(N.mask||N.expose),F=Math.random().toString().slice(10);G&&(typeof G=="string"&&(G={color:G}),G.closeOnClick=G.closeOnEsc=!1);var E=N.target||O.attr("rel");I=E?B(E):null||O;if(!I.length){throw"Could not find Overlay: "+E;}O&&O.index(I)==-1&&O.click(function(P){M.load(P);return P.preventDefault();}),B.extend(M,{load:function(T){if(M.isOpened()){return M;}var P=D[N.effect];if(!P){throw'Overlay: cannot find effect : "'+N.effect+'"';}N.oneInstance&&B.each(A,function(){this.close(T);}),T=T||B.Event(),T.type="onBeforeLoad",L.trigger(T);if(T.isDefaultPrevented()){return M;}H=!0,G&&B(I).expose(G);var U=N.top,S=N.left,R=I.outerWidth({margin:!0}),Q=I.outerHeight({margin:!0});typeof U=="string"&&(U=U=="center"?Math.max((K.height()-Q)/2,0):parseInt(U,10)/100*K.height()),S=="center"&&(S=Math.max((K.width()-R)/2,0)),P[0].call(M,{top:U,left:S},function(){H&&(T.type="onLoad",L.trigger(T));}),G&&N.closeOnClick&&B.mask.getMask().one("click",M.close),N.closeOnClick&&B(document).on("click."+F,function(V){B(V.target).parents(I).length||M.close(V);}),N.closeOnEsc&&B(document).on("keydown."+F,function(V){V.keyCode==27&&M.close(V);});return M;},close:function(P){if(!M.isOpened()){return M;}P=P||B.Event(),P.type="onBeforeClose",L.trigger(P);if(!P.isDefaultPrevented()){H=!1,D[N.effect][1].call(M,function(){P.type="onClose",L.trigger(P);}),B(document).off("click."+F+" keydown."+F),G&&B.mask.close();return M;}},getOverlay:function(){return I;},getTrigger:function(){return O;},getClosers:function(){return J;},isOpened:function(){return H;},getConf:function(){return N;}}),B.each("onBeforeLoad,onStart,onLoad,onBeforeClose,onClose".split(","),function(P,Q){B.isFunction(N[Q])&&B(M).on(Q,N[Q]),M[Q]=function(R){R&&B(M).on(Q,R);return M;};}),J=I.find(N.close||".close"),!J.length&&!N.close&&(J=B('<a class="close"></a>'),I.prepend(J)),J.click(function(P){M.close(P);}),N.load&&M.load();}B.fn.overlay=function(F){var E=this.data("overlay");if(E){return E;}B.isFunction(F)&&(F={onBeforeLoad:F}),F=B.extend(!0,{},B.tools.overlay.conf,F),this.each(function(){E=new C(B(this),F),A.push(E),B(this).data("overlay",E);});return F.api?E:this;};})(jQuery);(function(B){var A=B.tools.overlay,F=B(window);B.extend(A.conf,{start:{top:null,left:null},fadeInSpeed:"fast",zIndex:9999});function E(H){var G=H.offset();return{top:G.top+H.height()/2,left:G.left+H.width()/2};}var D=function(S,R){var Q=this.getOverlay(),P=this.getConf(),O=this.getTrigger(),N=this,M=Q.outerWidth({margin:!0}),L=Q.data("img"),K=P.fixed?"fixed":"absolute";if(!L){var J=Q.css("backgroundImage");if(!J){throw"background-image CSS property not set for overlay";}J=J.slice(J.indexOf("(")+1,J.indexOf(")")).replace(/\"/g,""),Q.css("backgroundImage","none"),L=B('<img src="'+J+'"/>'),L.css({border:0,display:"none"}).width(M),B("body").append(L),Q.data("img",L);}var I=P.start.top||Math.round(F.height()/2),H=P.start.left||Math.round(F.width()/2);if(O){var G=E(O);I=G.top,H=G.left;}P.fixed?(I-=F.scrollTop(),H-=F.scrollLeft()):(S.top+=F.scrollTop(),S.left+=F.scrollLeft()),L.css({position:"absolute",top:I,left:H,width:0,zIndex:P.zIndex}).show(),S.position=K,Q.css(S),L.animate({top:S.top,left:S.left,width:M},P.speed,function(){Q.css("zIndex",P.zIndex+1).fadeIn(P.fadeInSpeed,function(){N.isOpened()&&!B(this).index(Q)?R.call():Q.hide();});}).css("position",K);},C=function(G){var L=this.getOverlay().hide(),K=this.getConf(),J=this.getTrigger(),I=L.data("img"),H={top:K.start.top,left:K.start.left,width:0};
J&&B.extend(H,E(J)),K.fixed&&I.css({position:"absolute"}).animate({top:"+="+F.scrollTop(),left:"+="+F.scrollLeft()},0),I.animate(H,K.closeSpeed,G);};A.addEffect("apple",D,C);})(jQuery);(function(I){I.tools=I.tools||{version:"v1.2.7"};var H;H=I.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:0.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};function G(){if(I.browser.msie){var J=I(document).height(),K=I(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,J-K<20?K:J];}return[I(document).width(),I(document).height()];}function F(J){if(J){return J.call(I.mask);}}var E,D,C,B,A;I.mask={load:function(L,K){if(C){return this;}typeof L=="string"&&(L={color:L}),L=L||B,B=L=I.extend(I.extend({},H.conf),L),E=I("#"+L.maskId),E.length||(E=I("<div/>").attr("id",L.maskId),I("body").append(E));var J=G();E.css({position:"absolute",top:0,left:0,width:J[0],height:J[1],display:"none",opacity:L.startOpacity,zIndex:L.zIndex}),L.color&&E.css("backgroundColor",L.color);if(F(L.onBeforeLoad)===!1){return this;}L.closeOnEsc&&I(document).on("keydown.mask",function(M){M.keyCode==27&&I.mask.close(M);}),L.closeOnClick&&E.on("click.mask",function(M){I.mask.close(M);}),I(window).on("resize.mask",function(){I.mask.fit();}),K&&K.length&&(A=K.eq(0).css("zIndex"),I.each(K,function(){var M=I(this);/relative|absolute|fixed/i.test(M.css("position"))||M.css("position","relative");}),D=K.css({zIndex:Math.max(L.zIndex+1,A=="auto"?0:A)})),E.css({display:"block"}).fadeTo(L.loadSpeed,L.opacity,function(){I.mask.fit(),F(L.onLoad),C="full";}),C=!0;return this;},close:function(){if(C){if(F(B.onBeforeClose)===!1){return this;}E.fadeOut(B.closeSpeed,function(){F(B.onClose),D&&D.css({zIndex:A}),C=!1;}),I(document).off("keydown.mask"),E.off("click.mask"),I(window).off("resize.mask");}return this;},fit:function(){if(C){var J=G();E.css({width:J[0],height:J[1]});}},getMask:function(){return E;},isLoaded:function(J){return J?C=="full":C;},getConf:function(){return B;},getExposed:function(){return D;}},I.fn.mask=function(J){I.mask.load(J);return this;},I.fn.expose=function(J){I.mask.load(J,this);return this;};})(jQuery);